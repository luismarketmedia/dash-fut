"use strict";exports.id=128,exports.ids=[128],exports.modules={74141:(e,a,s)=>{s.d(a,{M:()=>u});var t=s(5909),r=s(22519),l=s(6665),i=s(22187),d=s(98786),n=s(7217),o=s(92364),c=s(50169),m=s(87081),f=s(77412),x=s(5783),h=s(7155);let p=["Classifica\xe7\xe3o","Oitavas","Quartas","Semifinal","Final"];function u(){let{state:e,dispatch:a,generateMatches:s,generateEliminationFromStandings:c}=(0,h.q)(),u=e.activeCategoryId||e.categories[0]?.id||"",g=e.teams.filter(e=>e.categoryId===u),[N,v]=(0,l.useState)("Classifica\xe7\xe3o"),[y,b]=(0,l.useState)(!1),w=(0,l.useMemo)(()=>g.map(e=>e.id),[g]),C=(0,l.useMemo)(()=>e.matches.filter(e=>e.categoryId===u),[e.matches,u]),R=(0,l.useMemo)(()=>{let e=new Map;return C.forEach((a,s)=>e.set(a.id,s)),e},[C]),T=(0,l.useMemo)(()=>{let e={Classificação:[],Oitavas:[],Quartas:[],Semifinal:[],Final:[]};for(let a of C)e[a.phase].push(a);for(let a of p)e[a].sort((e,a)=>R.get(e.id)-R.get(a.id));return e},[C,R]),A=e=>{let a=[];for(let s of e){let e=s.leftTeamId,t=s.rightTeamId,r=!1;for(let l of a){if(l.length>=4)continue;let a=new Set;if(l.forEach(e=>{a.add(e.leftTeamId),a.add(e.rightTeamId)}),!a.has(e)&&!a.has(t)){l.push(s),r=!0;break}}r||a.push([s])}return a},I=(a,s)=>{let t=e.assignments[a]||[],r=0;for(let e of t){let a=s.events[e];a&&(r+=a.goals)}return r};return(0,t.jsxs)("section",{id:"fases",className:"space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Fases do Campeonato"}),t.jsx("p",{className:"text-muted-foreground text-sm",children:"Sorteie confrontos autom\xe1ticos entre os times."})]}),t.jsx("div",{className:"flex items-center gap-2",children:y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Ph,{value:N,onValueChange:e=>v(e),children:[t.jsx(m.i4,{className:"w-48",children:t.jsx(m.ki,{})}),t.jsx(m.Bw,{children:p.map(e=>t.jsx(m.Ql,{value:e,children:e},e))})]}),(0,t.jsxs)(i.aR,{children:[t.jsx(i.vW,{asChild:!0,children:t.jsx(n.z,{variant:"destructive",children:"Resetar fases"})}),(0,t.jsxs)(i._T,{children:[(0,t.jsxs)(i.fY,{children:[t.jsx(i.f$,{children:"Resetar fases?"}),t.jsx(i.yT,{children:'Esta a\xe7\xe3o vai apagar todos os jogos em "matches" (e seus eventos) do banco e limpar as fases atuais. Esta a\xe7\xe3o n\xe3o pode ser desfeita.'})]}),(0,t.jsxs)(i.xo,{children:[t.jsx(i.le,{children:"Cancelar"}),t.jsx(i.OL,{onClick:()=>{a({type:"CLEAR_MATCHES"})},children:"Confirmar"})]})]})]}),t.jsx(n.z,{onClick:()=>"Classifica\xe7\xe3o"===N?s(N,w):c(N),disabled:g.length<2,children:"Sortear confrontos"})]})})]}),e.loading?t.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((e,a)=>(0,t.jsxs)(o.Zb,{className:"overflow-hidden border-0 shadow-sm",children:[t.jsx("div",{className:"border-b p-4",children:t.jsx(x.O,{className:"h-5 w-32"})}),t.jsx(o.aY,{className:"p-4 space-y-3",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-md border p-3",children:[t.jsx(x.O,{className:"h-5 w-40"}),t.jsx(x.O,{className:"h-8 w-24"})]},`sk-line-${a}-${s}`))})]},`sk-phase-${a}`))}):t.jsx("div",{className:"space-y-8",children:p.map(a=>{let s=T[a],l=s=>{let l=A(s);return t.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map((s,l)=>(0,t.jsxs)(o.Zb,{className:"overflow-hidden border-0 shadow-sm",children:[(0,t.jsxs)("div",{className:"border-b p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"font-semibold",children:["Rodada ",l+1]}),(0,t.jsxs)(d.C,{variant:"outline",children:[s.length," jogos"]})]}),t.jsx(o.aY,{className:"p-4",children:t.jsx("div",{className:"space-y-3",children:s.map(s=>{let l=e.teams.find(e=>e.id===s.leftTeamId),i=e.teams.find(e=>e.id===s.rightTeamId);if(!l||!i)return null;let d=I(l.id,s),n=I(i.id,s);return(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-md border p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium truncate",style:{color:l.color},children:l.name}),(0,t.jsxs)("span",{className:"font-mono",children:[d," x ",n]}),t.jsx("span",{className:"font-medium truncate",style:{color:i.color},children:i.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(r.default,{href:`/jogo/${s.id}`,className:"text-primary underline whitespace-nowrap",children:"Abrir jogo"}),t.jsx(j,{matchId:s.id,phase:a})]})]},s.id)})})})]},`${a}-week-${l+1}`))})};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium",children:a}),(0,t.jsxs)(d.C,{variant:"secondary",children:[s.length," jogos"]})]}),t.jsx(f.Z,{}),0===s.length?t.jsx("div",{className:"py-6 text-sm text-muted-foreground",children:"Nenhum confronto ainda."}):"Classifica\xe7\xe3o"===a&&Object.keys(e.groups).length?t.jsx("div",{className:"space-y-8 mt-4",children:(()=>{let a=new Set(g.map(e=>e.id)),r=Object.fromEntries(Object.entries(e.groups).filter(([e])=>a.has(e)));return Array.from(new Set(Object.values(r))).sort().map(e=>{let a=new Set(Object.entries(r).filter(([,a])=>a===e).map(([e])=>e)),i=s.filter(e=>a.has(e.leftTeamId)&&a.has(e.rightTeamId));return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,t.jsxs)("h4",{className:"font-semibold",children:["Chave ",e]}),(0,t.jsxs)(d.C,{variant:"outline",children:[i.length," jogos"]})]}),0===i.length?t.jsx("div",{className:"py-4 text-sm text-muted-foreground",children:"Nenhum confronto ainda."}):l(i)]},`chave-${e}`)})})()}):l(s)]},a)})})]})}function j({matchId:e,phase:a}){let{state:s,dispatch:r}=(0,h.q)(),i=s.matches.find(a=>a.id===e),[d,o]=(0,l.useState)(!1),[f,x]=(0,l.useState)(i?.leftTeamId||""),[p,u]=(0,l.useState)(i?.rightTeamId||""),j=s.teams,g=e=>s.groups[e],N=e=>{if("Classifica\xe7\xe3o"!==a)return!0;let t=g(i?.leftTeamId||"")||g(i?.rightTeamId||"");return!t||s.groups[e]===t},v=f&&p&&f!==p;return(0,t.jsxs)(c.Vq,{open:d,onOpenChange:o,children:[t.jsx(c.hg,{asChild:!0,children:t.jsx(n.z,{variant:"outline",size:"sm",children:"Editar"})}),(0,t.jsxs)(c.cZ,{children:[t.jsx(c.fK,{children:t.jsx(c.$N,{children:"Editar confronto"})}),(0,t.jsxs)("div",{className:"grid gap-3",children:[t.jsx("label",{className:"text-sm",children:"Mandante"}),(0,t.jsxs)(m.Ph,{value:f,onValueChange:x,children:[t.jsx(m.i4,{children:t.jsx(m.ki,{})}),t.jsx(m.Bw,{children:j.filter(e=>N(e.id)).map(e=>t.jsx(m.Ql,{value:e.id,children:e.name},e.id))})]}),t.jsx("label",{className:"text-sm",children:"Visitante"}),(0,t.jsxs)(m.Ph,{value:p,onValueChange:u,children:[t.jsx(m.i4,{children:t.jsx(m.ki,{})}),t.jsx(m.Bw,{children:j.filter(e=>N(e.id)).map(e=>t.jsx(m.Ql,{value:e.id,children:e.name},e.id))})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-2",children:[t.jsx(n.z,{variant:"secondary",onClick:()=>o(!1),children:"Cancelar"}),t.jsx(n.z,{disabled:!v,onClick:()=>{v&&(r({type:"EDIT_MATCH_TEAMS",payload:{id:e,leftTeamId:f,rightTeamId:p}}),o(!1))},children:"Salvar"})]})]})]})]})}},93962:(e,a,s)=>{s.d(a,{b:()=>n});var t=s(5909),r=s(6665),l=s(92364),i=s(22991),d=s(7155);function n(){let{state:e}=(0,d.q)(),a=e.activeCategoryId||e.categories[0]?.id||"",s=(0,r.useMemo)(()=>{let s=new Map,t=new Set(e.teams.filter(e=>e.categoryId===a).map(e=>e.id)),r=a=>{for(let[s,r]of Object.entries(e.assignments))if(r.includes(a)&&t.has(s))return e.teams.find(e=>e.id===s)||null;return null};for(let t of e.matches.filter(e=>e.categoryId===a))for(let[l,i]of Object.entries(t.events)){let t=e.players.find(e=>e.id===l&&e.categoryId===a);if(!t)continue;let d=r(l),n=s.get(l)||{playerId:l,name:t.name,teamName:d?.name||"-",teamColor:d?.color||"#999",goals:0};n.goals+=i.goals,s.set(l,n)}let l=Array.from(s.values());return l.sort((e,a)=>a.goals-e.goals||e.name.localeCompare(a.name)),l.slice(0,20)},[e.matches,e.players,e.assignments,e.teams,a]);return 0===s.length?null:(0,t.jsxs)(l.Zb,{className:"mt-6 overflow-hidden",children:[t.jsx("div",{className:"border-b p-4 text-lg font-semibold",children:"Artilharia"}),t.jsx("div",{className:"overflow-x-auto p-4",children:(0,t.jsxs)(i.iA,{children:[t.jsx(i.xD,{children:(0,t.jsxs)(i.SC,{children:[t.jsx(i.ss,{children:"#"}),t.jsx(i.ss,{children:"Jogador"}),t.jsx(i.ss,{className:"hidden sm:table-cell",children:"Time"}),t.jsx(i.ss,{children:"Gols"})]})}),t.jsx(i.RM,{children:s.map((e,a)=>(0,t.jsxs)(i.SC,{children:[t.jsx(i.pj,{children:a+1}),t.jsx(i.pj,{children:e.name}),t.jsx(i.pj,{className:"hidden sm:table-cell",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-2",children:[t.jsx("span",{className:"inline-block h-3 w-3 rounded",style:{backgroundColor:e.teamColor}}),e.teamName]})}),t.jsx(i.pj,{className:"font-semibold",children:e.goals})]},e.playerId))})]})})]})}},22187:(e,a,s)=>{s.d(a,{OL:()=>j,_T:()=>f,aR:()=>n,f$:()=>p,fY:()=>x,le:()=>g,vW:()=>o,xo:()=>h,yT:()=>u});var t=s(5909),r=s(34961),l=s(6665),i=s(7217),d=s(86021);let n=r.fC,o=r.xz,c=r.h_,m=l.forwardRef(({className:e,...a},s)=>t.jsx(r.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));m.displayName=r.aV.displayName;let f=l.forwardRef(({className:e,...a},s)=>(0,t.jsxs)(c,{children:[t.jsx(m,{}),t.jsx(r.VY,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a})]}));f.displayName=r.VY.displayName;let x=({className:e,...a})=>t.jsx("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});x.displayName="AlertDialogHeader";let h=({className:e,...a})=>t.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});h.displayName="AlertDialogFooter";let p=l.forwardRef(({className:e,...a},s)=>t.jsx(r.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold",e),...a}));p.displayName=r.Dx.displayName;let u=l.forwardRef(({className:e,...a},s)=>t.jsx(r.dk,{ref:s,className:(0,d.cn)("text-sm text-muted-foreground",e),...a}));u.displayName=r.dk.displayName;let j=l.forwardRef(({className:e,...a},s)=>t.jsx(r.aU,{ref:s,className:(0,d.cn)((0,i.d)(),e),...a}));j.displayName=r.aU.displayName;let g=l.forwardRef(({className:e,...a},s)=>t.jsx(r.$j,{ref:s,className:(0,d.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...a}));g.displayName=r.$j.displayName},92364:(e,a,s)=>{s.d(a,{Ol:()=>d,SZ:()=>o,Zb:()=>i,aY:()=>c,ll:()=>n});var t=s(5909),r=s(6665),l=s(86021);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));d.displayName="CardHeader";let n=r.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent",r.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter"},77412:(e,a,s)=>{s.d(a,{Z:()=>c});var t=s(5909),r=s(6665),l=s(26544),i="horizontal",d=["horizontal","vertical"],n=r.forwardRef((e,a)=>{let{decorative:s,orientation:r=i,...n}=e,o=d.includes(r)?r:i;return(0,t.jsx)(l.WV.div,{"data-orientation":o,...s?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...n,ref:a})});n.displayName="Separator";var o=s(86021);let c=r.forwardRef(({className:e,orientation:a="horizontal",decorative:s=!0,...r},l)=>t.jsx(n,{ref:l,decorative:s,orientation:a,className:(0,o.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));c.displayName=n.displayName},5783:(e,a,s)=>{s.d(a,{O:()=>l});var t=s(5909),r=s(86021);function l({className:e,...a}){return t.jsx("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...a})}},22991:(e,a,s)=>{s.d(a,{RM:()=>n,SC:()=>o,iA:()=>i,pj:()=>m,ss:()=>c,xD:()=>d});var t=s(5909),r=s(6665),l=s(86021);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));i.displayName="Table";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...a}));d.displayName="TableHeader";let n=r.forwardRef(({className:e,...a},s)=>t.jsx("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));n.displayName="TableBody",r.forwardRef(({className:e,...a},s)=>t.jsx("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("th",{ref:s,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground text-xs sm:h-12 sm:px-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...a},s)=>t.jsx("td",{ref:s,className:(0,l.cn)("p-2 align-middle text-xs sm:p-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...a}));m.displayName="TableCell",r.forwardRef(({className:e,...a},s)=>t.jsx("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},34961:(e,a,s)=>{s.d(a,{$j:()=>E,Dx:()=>F,VY:()=>M,aU:()=>V,aV:()=>$,dk:()=>Y,fC:()=>S,h_:()=>z,xz:()=>O});var t=s(6665),r=s(67975),l=s(57887),i=s(2078),d=s(53321),n=s(2694),o=s(5909),c="AlertDialog",[m,f]=(0,r.b)(c,[i.p8]),x=(0,i.p8)(),h=e=>{let{__scopeAlertDialog:a,...s}=e,t=x(a);return(0,o.jsx)(i.fC,{...t,...s,modal:!0})};h.displayName=c;var p=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,o.jsx)(i.xz,{...r,...t,ref:a})});p.displayName="AlertDialogTrigger";var u=e=>{let{__scopeAlertDialog:a,...s}=e,t=x(a);return(0,o.jsx)(i.h_,{...t,...s})};u.displayName="AlertDialogPortal";var j=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,o.jsx)(i.aV,{...r,...t,ref:a})});j.displayName="AlertDialogOverlay";var g="AlertDialogContent",[N,v]=m(g),y=(0,n.sA)("AlertDialogContent"),b=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,children:r,...n}=e,c=x(s),m=t.useRef(null),f=(0,l.e)(a,m),h=t.useRef(null);return(0,o.jsx)(i.jm,{contentName:g,titleName:w,docsSlug:"alert-dialog",children:(0,o.jsx)(N,{scope:s,cancelRef:h,children:(0,o.jsxs)(i.VY,{role:"alertdialog",...c,...n,ref:f,onOpenAutoFocus:(0,d.M)(n.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(y,{children:r}),(0,o.jsx)(k,{contentRef:m})]})})})});b.displayName=g;var w="AlertDialogTitle",C=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,o.jsx)(i.Dx,{...r,...t,ref:a})});C.displayName=w;var R="AlertDialogDescription",T=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,o.jsx)(i.dk,{...r,...t,ref:a})});T.displayName=R;var A=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,r=x(s);return(0,o.jsx)(i.x8,{...r,...t,ref:a})});A.displayName="AlertDialogAction";var I="AlertDialogCancel",D=t.forwardRef((e,a)=>{let{__scopeAlertDialog:s,...t}=e,{cancelRef:r}=v(I,s),d=x(s),n=(0,l.e)(a,r);return(0,o.jsx)(i.x8,{...d,...t,ref:n})});D.displayName=I;var k=({contentRef:e})=>{let a=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${R}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(a)},[a,e]),null},S=h,O=p,z=u,$=j,M=b,V=A,E=D,F=C,Y=T}};