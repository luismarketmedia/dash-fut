"use strict";exports.id=701,exports.ids=[701],exports.modules={9701:(e,s,a)=>{a.d(s,{f:()=>B});var l=a(5909),t=a(86936),r=a(31803),i=a(6665),n=a(98786),d=a(7217),c=a(57887),o=a(67975),m=a(53321),h=a(38901),x=a(94682),u=a(7201),j=a(80327),p=a(26544),f="Checkbox",[N,g]=(0,o.b)(f),[b,v]=N(f);function y(e){let{__scopeCheckbox:s,checked:a,children:t,defaultChecked:r,disabled:n,form:d,name:c,onCheckedChange:o,required:m,value:x="on",internal_do_not_use_render:u}=e,[j,p]=(0,h.T)({prop:a,defaultProp:r??!1,onChange:o,caller:f}),[N,g]=i.useState(null),[v,y]=i.useState(null),w=i.useRef(!1),C=!N||!!d||!!N.closest("form"),k={checked:j,disabled:n,setChecked:p,control:N,setControl:g,name:c,form:d,value:x,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!A(r)&&r,isFormControl:C,bubbleInput:v,setBubbleInput:y};return(0,l.jsx)(b,{scope:s,...k,children:"function"==typeof u?u(k):t})}var w="CheckboxTrigger",C=i.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:a,...t},r)=>{let{control:n,value:d,disabled:o,checked:h,required:x,setControl:u,setChecked:j,hasConsumerStoppedPropagationRef:f,isFormControl:N,bubbleInput:g}=v(w,e),b=(0,c.e)(r,u),y=i.useRef(h);return i.useEffect(()=>{let e=n?.form;if(e){let s=()=>j(y.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[n,j]),(0,l.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":A(h)?"mixed":h,"aria-required":x,"data-state":L(h),"data-disabled":o?"":void 0,disabled:o,value:d,...t,ref:b,onKeyDown:(0,m.M)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,m.M)(a,e=>{j(e=>!!A(e)||!e),g&&N&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});C.displayName=w;var k=i.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:t,checked:r,defaultChecked:i,required:n,disabled:d,value:c,onCheckedChange:o,form:m,...h}=e;return(0,l.jsx)(y,{__scopeCheckbox:a,checked:r,defaultChecked:i,disabled:d,required:n,onCheckedChange:o,name:t,form:m,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(C,{...h,ref:s,__scopeCheckbox:a}),e&&(0,l.jsx)(O,{__scopeCheckbox:a})]})})});k.displayName=f;var S="CheckboxIndicator",E=i.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:t,...r}=e,i=v(S,a);return(0,l.jsx)(j.z,{present:t||A(i.checked)||!0===i.checked,children:(0,l.jsx)(p.WV.span,{"data-state":L(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});E.displayName=S;var I="CheckboxBubbleInput",O=i.forwardRef(({__scopeCheckbox:e,...s},a)=>{let{control:t,hasConsumerStoppedPropagationRef:r,checked:n,defaultChecked:d,required:o,disabled:m,name:h,value:j,form:f,bubbleInput:N,setBubbleInput:g}=v(I,e),b=(0,c.e)(a,g),y=(0,x.D)(n),w=(0,u.t)(t);i.useEffect(()=>{if(!N)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!r.current;if(y!==n&&e){let a=new Event("click",{bubbles:s});N.indeterminate=A(n),e.call(N,!A(n)&&n),N.dispatchEvent(a)}},[N,y,n,r]);let C=i.useRef(!A(n)&&n);return(0,l.jsx)(p.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??C.current,required:o,disabled:m,name:h,value:j,form:f,...s,tabIndex:-1,ref:b,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function L(e){return A(e)?"indeterminate":e?"checked":"unchecked"}O.displayName=I;var P=a(93055),R=a(86021);let T=i.forwardRef(({className:e,...s},a)=>l.jsx(k,{ref:a,className:(0,R.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:l.jsx(E,{className:(0,R.cn)("flex items-center justify-center text-current"),children:l.jsx(P.Z,{className:"h-4 w-4"})})}));T.displayName=k.displayName;var M=a(50169),D=a(72583),_=a(87081),F=a(5783),V=a(22991),Q=a(7155);let z=["SEM POSI\xc7\xc3O","GOL","FIXO","MEIO","ALA DIREITA","ALA ESQUERDA","FRENTE"];function B(){return(0,l.jsxs)("section",{id:"jogadores",className:"space-y-6",children:[l.jsx("header",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Cadastro de Jogadores"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Adicione, edite e gerencie os jogadores."})]})}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsx(Z,{})}),l.jsx("div",{className:"md:col-span-2",children:l.jsx($,{})})]})]})}function Z(){let{dispatch:e}=(0,Q.q)(),[s,a]=(0,i.useState)(0),[t,r]=(0,i.useState)(""),[n,c]=(0,i.useState)("SEM POSI\xc7\xc3O"),[o,m]=(0,i.useState)(!1);return(0,l.jsxs)("form",{onSubmit:l=>{l.preventDefault(),t.trim()&&(e({type:"ADD_PLAYER",payload:{jerseyNumber:Number(s)||0,name:t.trim(),position:n,paid:o}}),a(0),r(""),c("SEM POSI\xc7\xc3O"),m(!1))},className:"space-y-4 rounded-lg border bg-card p-4 shadow-sm",children:[(0,l.jsxs)("div",{className:"grid gap-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"N\xfamero da camisa"}),l.jsx(D.I,{type:"number",min:0,value:s,onChange:e=>{let s=parseInt(e.target.value||"0",10);a(Number.isFinite(s)?s:0)}})]}),(0,l.jsxs)("div",{className:"grid gap-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nome"}),l.jsx(D.I,{value:t,onChange:e=>r(e.target.value),placeholder:"Ex.: Jo\xe3o Silva"})]}),(0,l.jsxs)("div",{className:"grid gap-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"Posi\xe7\xe3o"}),(0,l.jsxs)(_.Ph,{value:n,onValueChange:e=>c(e),children:[l.jsx(_.i4,{className:"w-full",children:l.jsx(_.ki,{placeholder:"Selecione"})}),l.jsx(_.Bw,{children:z.map(e=>l.jsx(_.Ql,{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(T,{id:"paid",checked:o,onCheckedChange:e=>m(!!e)}),l.jsx("label",{htmlFor:"paid",className:"text-sm",children:"Pago"})]}),l.jsx(d.z,{type:"submit",className:"w-full",children:"Adicionar"})]})}function $(){let{state:e,dispatch:s}=(0,Q.q)(),a=e.loading,[t,r]=(0,i.useState)(""),[d,c]=(0,i.useState)("ALL"),[o,m]=(0,i.useState)("ALL"),h=(0,i.useMemo)(()=>{let s=t.trim().toLowerCase(),a=e.activeCategoryId||e.categories[0]?.id||"",l=e.players.filter(e=>e.categoryId===a),r=s?l.filter(e=>e.name.toLowerCase().includes(s)||String(e.jerseyNumber).includes(s)||e.position.toLowerCase().includes(s)):l,i="ALL"===d?r:r.filter(e=>e.position===d),n=s=>{for(let[a,l]of Object.entries(e.assignments))if(l.includes(s))return a;return""};return("ALL"===o?i:"NONE"===o?i.filter(e=>""===n(e.id)):i.filter(e=>n(e.id)===o)).slice().sort((e,s)=>e.jerseyNumber-s.jerseyNumber)},[e.players,e.assignments,t,d,o,e.activeCategoryId,e.categories[0]?.id]);return(0,l.jsxs)("div",{className:"rounded-lg border bg-card p-4 shadow-sm",children:[(0,l.jsxs)("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[a?l.jsx(F.O,{className:"h-10 w-full sm:w-64"}):l.jsx(D.I,{value:t,onChange:e=>r(e.target.value),placeholder:"Buscar por nome, n\xfamero ou posi\xe7\xe3o",className:"w-full sm:w-64"}),a?l.jsx(F.O,{className:"h-10 w-full sm:w-48"}):(0,l.jsxs)(_.Ph,{value:d,onValueChange:e=>c(e),children:[l.jsx(_.i4,{className:"w-full sm:w-48",children:l.jsx(_.ki,{placeholder:"Todas as posi\xe7\xf5es"})}),(0,l.jsxs)(_.Bw,{children:[l.jsx(_.Ql,{value:"ALL",children:"Todas as posi\xe7\xf5es"}),z.map(e=>l.jsx(_.Ql,{value:e,children:e},e))]})]}),a?l.jsx(F.O,{className:"h-10 w-full sm:w-48"}):(0,l.jsxs)(_.Ph,{value:o,onValueChange:e=>m(e),children:[l.jsx(_.i4,{className:"w-full sm:w-48",children:l.jsx(_.ki,{placeholder:"Todos os times"})}),(0,l.jsxs)(_.Bw,{children:[l.jsx(_.Ql,{value:"ALL",children:"Todos os times"}),l.jsx(_.Ql,{value:"NONE",children:"Sem time"}),e.teams.filter(s=>(e.activeCategoryId||e.categories[0]?.id||"")===s.categoryId).map(e=>l.jsx(_.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsxs)(n.C,{variant:"outline",children:["Total:"," ",e.loading?"--":e.players.filter(s=>s.categoryId===(e.activeCategoryId||e.categories[0]?.id||"")).length]})]}),l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)(V.iA,{children:[l.jsx(V.xD,{children:(0,l.jsxs)(V.SC,{children:[l.jsx(V.ss,{children:"#"}),l.jsx(V.ss,{children:"Nome"}),l.jsx(V.ss,{className:"hidden sm:table-cell",children:"Posi\xe7\xe3o"}),l.jsx(V.ss,{className:"hidden sm:table-cell",children:"Pago"}),l.jsx(V.ss,{className:"hidden sm:table-cell",children:"Time"}),l.jsx(V.ss,{className:"w-20 text-right sm:w-24",children:"A\xe7\xf5es"})]})}),l.jsx(V.RM,{children:e.loading?Array.from({length:8}).map((e,s)=>(0,l.jsxs)(V.SC,{children:[l.jsx(V.pj,{children:l.jsx(F.O,{className:"h-8 w-16"})}),l.jsx(V.pj,{children:l.jsx(F.O,{className:"h-5 w-40"})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:l.jsx(F.O,{className:"h-5 w-24"})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:l.jsx(F.O,{className:"h-5 w-16"})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:l.jsx(F.O,{className:"h-5 w-24"})}),l.jsx(V.pj,{className:"text-right",children:l.jsx(F.O,{className:"h-8 w-20 ml-auto"})})]},`sk-${s}`)):(0,l.jsxs)(l.Fragment,{children:[h.map(e=>l.jsx(q,{player:e,onDelete:()=>s({type:"DELETE_PLAYER",payload:{id:e.id}})},e.id)),0===h.length&&l.jsx(V.SC,{children:l.jsx(V.pj,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Nenhum jogador"})})]})})]})})]})}function q({player:e,onDelete:s}){let{state:a,dispatch:c}=(0,Q.q)(),[o,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(e),[u,j]=(0,i.useState)(e.jerseyNumber),p=(0,i.useMemo)(()=>{for(let[s,l]of Object.entries(a.assignments))if(l.includes(e.id))return s;return""},[a.assignments,e.id]),[f,N]=(0,i.useState)(p),g=s=>{s!==e.paid&&c({type:"UPDATE_PLAYER",payload:{...e,paid:s}})};return(0,l.jsxs)(V.SC,{children:[l.jsx(V.pj,{className:"font-medium",children:l.jsx(D.I,{type:"number",min:0,value:u,onChange:e=>{let s=parseInt(e.target.value||"0",10);j(Number.isFinite(s)?s:0)},onBlur:()=>{let s=Number.isFinite(u)?u:0;s!==e.jerseyNumber&&c({type:"UPDATE_PLAYER",payload:{...e,jerseyNumber:Math.max(0,s)}})},className:"h-8 w-16 text-center sm:w-20"})}),l.jsx(V.pj,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"truncate",children:e.name}),l.jsx("span",{className:"sm:hidden",children:l.jsx(n.C,{variant:"secondary",children:e.position})})]})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:l.jsx(n.C,{variant:"secondary",children:e.position})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx(T,{id:`paid-inline-${e.id}`,checked:e.paid,onCheckedChange:e=>g(!!e)}),l.jsx("label",{htmlFor:`paid-inline-${e.id}`,className:"text-xs",children:"Pago"})]})}),l.jsx(V.pj,{className:"hidden sm:table-cell",children:(()=>{let s=Object.entries(a.assignments).find(([,s])=>s.includes(e.id))?.[0]||"",t=s&&a.teams.find(e=>e.id===s)?.name||"-";return l.jsx("span",{children:t})})()}),l.jsx(V.pj,{className:"text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsxs)(M.Vq,{open:o,onOpenChange:m,children:[l.jsx(M.hg,{asChild:!0,children:l.jsx(d.z,{size:"icon",variant:"ghost",className:"h-8 w-8 sm:h-10 sm:w-10",children:l.jsx(t.Z,{className:"h-4 w-4"})})}),(0,l.jsxs)(M.cZ,{children:[l.jsx(M.fK,{children:l.jsx(M.$N,{children:"Editar Jogador"})}),(0,l.jsxs)("div",{className:"grid gap-3",children:[l.jsx("label",{className:"text-sm",children:"N\xfamero"}),l.jsx(D.I,{type:"number",value:h.jerseyNumber,onChange:e=>{let s=parseInt(e.target.value||"0",10);x({...h,jerseyNumber:Number.isFinite(s)?s:0})}}),l.jsx("label",{className:"text-sm",children:"Nome"}),l.jsx(D.I,{value:h.name,onChange:e=>x({...h,name:e.target.value})}),l.jsx("label",{className:"text-sm",children:"Posi\xe7\xe3o"}),(0,l.jsxs)(_.Ph,{value:h.position,onValueChange:e=>x({...h,position:e}),children:[l.jsx(_.i4,{children:l.jsx(_.ki,{})}),l.jsx(_.Bw,{children:z.map(e=>l.jsx(_.Ql,{value:e,children:e},e))})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[l.jsx(T,{id:`paid-${e.id}`,checked:h.paid,onCheckedChange:e=>x({...h,paid:!!e})}),l.jsx("label",{htmlFor:`paid-${e.id}`,className:"text-sm",children:"Pago"})]}),l.jsx("label",{className:"text-sm",children:"Time"}),(()=>{let e="__NONE__";return(0,l.jsxs)(_.Ph,{value:f||e,onValueChange:s=>N(s===e?"":s),children:[l.jsx(_.i4,{children:l.jsx(_.ki,{placeholder:"Sem time"})}),(0,l.jsxs)(_.Bw,{children:[l.jsx(_.Ql,{value:e,children:"Sem time"}),a.teams.filter(e=>(a.activeCategoryId||a.categories[0]?.id||"")===e.categoryId).map(e=>(0,l.jsxs)(_.Ql,{value:e.id,children:[e.name," (",a.assignments[e.id]?.length||0,"/",e.capacity,")"]},e.id))]})]})})(),l.jsx(d.z,{onClick:()=>{if(c({type:"UPDATE_PLAYER",payload:h}),f!==p){let s=Object.fromEntries(Object.entries(a.assignments).map(([s,a])=>[s,a.filter(s=>s!==e.id)]));if(f){let l=a.teams.find(e=>e.id===f)?.capacity||1/0;(s[f]?.length||0)<l&&(s[f]||=[]).push(e.id)}c({type:"SET_ASSIGNMENTS",payload:s})}m(!1)},children:"Salvar"})]})]})]}),l.jsx(d.z,{size:"icon",variant:"ghost",onClick:s,className:"h-8 w-8 sm:h-10 sm:w-10",children:l.jsx(r.Z,{className:"h-4 w-4 text-destructive"})})]})})]})}},5783:(e,s,a)=>{a.d(s,{O:()=>r});var l=a(5909),t=a(86021);function r({className:e,...s}){return l.jsx("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",e),...s})}},22991:(e,s,a)=>{a.d(s,{RM:()=>d,SC:()=>c,iA:()=>i,pj:()=>m,ss:()=>o,xD:()=>n});var l=a(5909),t=a(6665),r=a(86021);let i=t.forwardRef(({className:e,...s},a)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:a,className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})}));i.displayName="Table";let n=t.forwardRef(({className:e,...s},a)=>l.jsx("thead",{ref:a,className:(0,r.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let d=t.forwardRef(({className:e,...s},a)=>l.jsx("tbody",{ref:a,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",t.forwardRef(({className:e,...s},a)=>l.jsx("tfoot",{ref:a,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=t.forwardRef(({className:e,...s},a)=>l.jsx("tr",{ref:a,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let o=t.forwardRef(({className:e,...s},a)=>l.jsx("th",{ref:a,className:(0,r.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground text-xs sm:h-12 sm:px-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let m=t.forwardRef(({className:e,...s},a)=>l.jsx("td",{ref:a,className:(0,r.cn)("p-2 align-middle text-xs sm:p-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",t.forwardRef(({className:e,...s},a)=>l.jsx("caption",{ref:a,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},86936:(e,s,a)=>{a.d(s,{Z:()=>l});let l=(0,a(56240).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},31803:(e,s,a)=>{a.d(s,{Z:()=>l});let l=(0,a(56240).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}};