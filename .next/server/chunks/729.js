"use strict";exports.id=729,exports.ids=[729],exports.modules={39729:(e,s,a)=>{a.d(s,{c:()=>u});var l=a(5909),t=a(86936),d=a(31803),r=a(6665),c=a(98786),n=a(7217),i=a(92364),m=a(50169),o=a(72583),x=a(5783),h=a(7155),j=a(22991);function p(){let{state:e}=(0,h.q)(),s=(0,r.useMemo)(()=>{let s=new Map;for(let a of e.teams)s.set(a.id,{teamId:a.id,name:a.name,color:a.color,P:0,V:0,E:0,D:0,GF:0,GA:0,SG:0,Pts:0});let a=(s,a)=>{let l=e.assignments[s]||[],t=0;for(let e of l){let s=a.events[e];s&&(t+=s.goals)}return t};for(let l of e.matches){let e=s.get(l.leftTeamId),t=s.get(l.rightTeamId);if(!e||!t)continue;let d=a(e.teamId,l),r=a(t.teamId,l);e.P++,t.P++,e.GF+=d,e.GA+=r,t.GF+=r,t.GA+=d,d>r?(e.V++,e.Pts+=3,t.D++):d<r?(t.V++,t.Pts+=3,e.D++):(e.E++,t.E++,e.Pts+=1,t.Pts+=1)}for(let e of s.values())e.SG=e.GF-e.GA;let l=Array.from(s.values());return l.sort((e,s)=>s.Pts-e.Pts||s.SG-e.SG||s.GF-e.GF||e.name.localeCompare(s.name)),l},[e.matches,e.assignments,e.teams]);return 0===e.teams.length?null:(0,l.jsxs)(i.Zb,{className:"mt-6 overflow-hidden",children:[l.jsx("div",{className:"border-b p-4 text-lg font-semibold",children:"Classifica\xe7\xe3o"}),l.jsx("div",{className:"overflow-x-auto p-4",children:(0,l.jsxs)(j.iA,{children:[l.jsx(j.xD,{children:(0,l.jsxs)(j.SC,{children:[l.jsx(j.ss,{children:"#"}),l.jsx(j.ss,{children:"Time"}),l.jsx(j.ss,{children:"P"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"V"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"E"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"D"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"GF"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"GS"}),l.jsx(j.ss,{className:"hidden sm:table-cell",children:"SG"}),l.jsx(j.ss,{children:"Pts"})]})}),l.jsx(j.RM,{children:s.map((e,s)=>(0,l.jsxs)(j.SC,{children:[l.jsx(j.pj,{children:s+1}),l.jsx(j.pj,{children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-2",children:[l.jsx("span",{className:"inline-block h-3 w-3 rounded",style:{backgroundColor:e.color}}),e.name]})}),l.jsx(j.pj,{children:e.P}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.V}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.E}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.D}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.GF}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.GA}),l.jsx(j.pj,{className:"hidden sm:table-cell",children:e.SG}),l.jsx(j.pj,{className:"font-semibold",children:e.Pts})]},e.teamId))})]})})]})}function f({color:e}){return l.jsx("span",{className:"inline-block h-4 w-4 rounded",style:{backgroundColor:e}})}function u(){return(0,l.jsxs)("section",{id:"times",className:"space-y-6",children:[l.jsx("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Cadastro de Times"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Crie times, defina cor e capacidade."})]})}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[l.jsx("div",{className:"md:col-span-1",children:l.jsx(N,{})}),l.jsx("div",{className:"md:col-span-2",children:l.jsx(g,{})})]}),l.jsx(p,{})]})}function N(){let{dispatch:e}=(0,h.q)(),[s,a]=(0,r.useState)(""),[t,d]=(0,r.useState)("#22c55e"),[c,i]=(0,r.useState)(8);return(0,l.jsxs)("form",{onSubmit:l=>{l.preventDefault(),s.trim()&&(e({type:"ADD_TEAM",payload:{name:s.trim(),color:t,capacity:c}}),a(""),d("#22c55e"),i(8))},className:"space-y-4 rounded-lg border bg-card p-4 shadow-sm",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nome do time"}),l.jsx(o.I,{value:s,onChange:e=>a(e.target.value),placeholder:"Ex.: Panteras"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cor do time"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx(o.I,{type:"color",value:t,onChange:e=>d(e.target.value),className:"h-10 w-16 p-1"}),l.jsx(f,{color:t}),l.jsx("span",{className:"text-sm text-muted-foreground",children:t})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Quantidade de jogadores"}),l.jsx(o.I,{type:"number",min:1,value:c,onChange:e=>i(parseInt(e.target.value||"1",10))})]}),l.jsx(n.z,{type:"submit",className:"w-full",children:"Criar time"})]})}function g(){let{state:e,dispatch:s}=(0,h.q)(),{assignments:a}=e,t=e.activeCategoryId||e.categories[0]?.id||"",d=e.teams.filter(e=>e.categoryId===t);return e.loading?l.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,s)=>(0,l.jsxs)("div",{className:"overflow-hidden rounded-md border bg-card p-4 shadow-sm",children:[l.jsx(x.O,{className:"h-2 w-full"}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[l.jsx(x.O,{className:"h-6 w-40"}),l.jsx(x.O,{className:"h-6 w-16"})]}),l.jsx(x.O,{className:"mt-2 h-4 w-32"})]},`sk-team-${s}`))}):0===d.length?l.jsx("div",{className:"rounded-lg border bg-card p-6 text-center text-muted-foreground",children:"Nenhum time criado"}):l.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(e=>l.jsx(b,{team:e,assignedCount:a[e.id]?.length||0,onDelete:()=>s({type:"DELETE_TEAM",payload:{id:e.id}})},e.id))})}function b({team:e,assignedCount:s,onDelete:a}){let{dispatch:x}=(0,h.q)(),[j,p]=(0,r.useState)(!1),[f,u]=(0,r.useState)(e);return(0,l.jsxs)(i.Zb,{className:"overflow-hidden border-0 shadow-sm",style:{boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsx("div",{className:"h-2 w-full",style:{backgroundColor:e.color}}),(0,l.jsxs)(i.Ol,{children:[(0,l.jsxs)(i.ll,{className:"flex items-center justify-between gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full border text-xs font-semibold",style:{backgroundColor:`${e.color}22`,color:e.color},children:e.name.slice(0,1).toUpperCase()}),e.name]}),(0,l.jsxs)(c.C,{variant:"secondary",children:[s,"/",e.capacity]})]}),(0,l.jsxs)(i.SZ,{children:["Capacidade definida: ",e.capacity," jogadores"]})]}),(0,l.jsxs)(i.aY,{className:"flex items-center justify-end gap-2 pt-0",children:[(0,l.jsxs)(m.Vq,{open:j,onOpenChange:p,children:[l.jsx(m.hg,{asChild:!0,children:l.jsx(n.z,{size:"icon",variant:"ghost",children:l.jsx(t.Z,{className:"h-4 w-4"})})}),(0,l.jsxs)(m.cZ,{children:[l.jsx(m.fK,{children:l.jsx(m.$N,{children:"Editar Time"})}),(0,l.jsxs)("div",{className:"grid gap-3",children:[l.jsx("label",{className:"text-sm",children:"Nome"}),l.jsx(o.I,{value:f.name,onChange:e=>u({...f,name:e.target.value})}),l.jsx("label",{className:"text-sm",children:"Cor"}),l.jsx(o.I,{type:"color",value:f.color,onChange:e=>u({...f,color:e.target.value}),className:"h-10 w-20 p-1"}),l.jsx("label",{className:"text-sm",children:"Quantidade"}),l.jsx(o.I,{type:"number",min:1,value:f.capacity,onChange:e=>u({...f,capacity:parseInt(e.target.value||"1",10)})}),l.jsx(n.z,{onClick:()=>{x({type:"UPDATE_TEAM",payload:f}),p(!1)},children:"Salvar"})]})]})]}),l.jsx(n.z,{size:"icon",variant:"ghost",onClick:a,children:l.jsx(d.Z,{className:"h-4 w-4 text-destructive"})})]})]})}},92364:(e,s,a)=>{a.d(s,{Ol:()=>c,SZ:()=>i,Zb:()=>r,aY:()=>m,ll:()=>n});var l=a(5909),t=a(6665),d=a(86021);let r=t.forwardRef(({className:e,...s},a)=>l.jsx("div",{ref:a,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));r.displayName="Card";let c=t.forwardRef(({className:e,...s},a)=>l.jsx("div",{ref:a,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",e),...s}));c.displayName="CardHeader";let n=t.forwardRef(({className:e,...s},a)=>l.jsx("h3",{ref:a,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let i=t.forwardRef(({className:e,...s},a)=>l.jsx("p",{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...s}));i.displayName="CardDescription";let m=t.forwardRef(({className:e,...s},a)=>l.jsx("div",{ref:a,className:(0,d.cn)("p-6 pt-0",e),...s}));m.displayName="CardContent",t.forwardRef(({className:e,...s},a)=>l.jsx("div",{ref:a,className:(0,d.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},5783:(e,s,a)=>{a.d(s,{O:()=>d});var l=a(5909),t=a(86021);function d({className:e,...s}){return l.jsx("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",e),...s})}},22991:(e,s,a)=>{a.d(s,{RM:()=>n,SC:()=>i,iA:()=>r,pj:()=>o,ss:()=>m,xD:()=>c});var l=a(5909),t=a(6665),d=a(86021);let r=t.forwardRef(({className:e,...s},a)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:a,className:(0,d.cn)("w-full caption-bottom text-sm",e),...s})}));r.displayName="Table";let c=t.forwardRef(({className:e,...s},a)=>l.jsx("thead",{ref:a,className:(0,d.cn)("[&_tr]:border-b",e),...s}));c.displayName="TableHeader";let n=t.forwardRef(({className:e,...s},a)=>l.jsx("tbody",{ref:a,className:(0,d.cn)("[&_tr:last-child]:border-0",e),...s}));n.displayName="TableBody",t.forwardRef(({className:e,...s},a)=>l.jsx("tfoot",{ref:a,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let i=t.forwardRef(({className:e,...s},a)=>l.jsx("tr",{ref:a,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));i.displayName="TableRow";let m=t.forwardRef(({className:e,...s},a)=>l.jsx("th",{ref:a,className:(0,d.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground text-xs sm:h-12 sm:px-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableHead";let o=t.forwardRef(({className:e,...s},a)=>l.jsx("td",{ref:a,className:(0,d.cn)("p-2 align-middle text-xs sm:p-4 sm:text-sm [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableCell",t.forwardRef(({className:e,...s},a)=>l.jsx("caption",{ref:a,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},86936:(e,s,a)=>{a.d(s,{Z:()=>l});let l=(0,a(56240).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},31803:(e,s,a)=>{a.d(s,{Z:()=>l});let l=(0,a(56240).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}};