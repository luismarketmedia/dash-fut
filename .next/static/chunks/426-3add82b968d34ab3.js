"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{5426:function(e,s,a){a.d(s,{f:function(){return B}});var t=a(8947),l=a(9668),r=a(7835),n=a(3081),i=a(3478),d=a(1917),c=a(5640),o=a(2807),m=a(4565),u=a(5056),h=a(1896),x=a(6743),j=a(8053),p=a(1834),f="Checkbox",[N,v]=(0,o.b)(f),[g,b]=N(f);function y(e){let{__scopeCheckbox:s,checked:a,children:l,defaultChecked:r,disabled:i,form:d,name:c,onCheckedChange:o,required:m,value:h="on",internal_do_not_use_render:x}=e,[j,p]=(0,u.T)({prop:a,defaultProp:null!=r&&r,onChange:o,caller:f}),[N,v]=n.useState(null),[b,y]=n.useState(null),w=n.useRef(!1),k=!N||!!d||!!N.closest("form"),C={checked:j,disabled:i,setChecked:p,control:N,setControl:v,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:w,required:m,defaultChecked:!A(r)&&r,isFormControl:k,bubbleInput:b,setBubbleInput:y};return(0,t.jsx)(g,{scope:s,...C,children:"function"==typeof x?x(C):l})}var w="CheckboxTrigger",k=n.forwardRef((e,s)=>{let{__scopeCheckbox:a,onKeyDown:l,onClick:r,...i}=e,{control:d,value:o,disabled:u,checked:h,required:x,setControl:j,setChecked:f,hasConsumerStoppedPropagationRef:N,isFormControl:v,bubbleInput:g}=b(w,a),y=(0,c.e)(s,j),k=n.useRef(h);return n.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let s=()=>f(k.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[d,f]),(0,t.jsx)(p.WV.button,{type:"button",role:"checkbox","aria-checked":A(h)?"mixed":h,"aria-required":x,"data-state":L(h),"data-disabled":u?"":void 0,disabled:u,value:o,...i,ref:y,onKeyDown:(0,m.M)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,m.M)(r,e=>{f(e=>!!A(e)||!e),g&&v&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})});k.displayName=w;var C=n.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:l,checked:r,defaultChecked:n,required:i,disabled:d,value:c,onCheckedChange:o,form:m,...u}=e;return(0,t.jsx)(y,{__scopeCheckbox:a,checked:r,defaultChecked:n,disabled:d,required:i,onCheckedChange:o,name:l,form:m,value:c,internal_do_not_use_render:e=>{let{isFormControl:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k,{...u,ref:s,__scopeCheckbox:a}),l&&(0,t.jsx)(O,{__scopeCheckbox:a})]})}})});C.displayName=f;var E="CheckboxIndicator",S=n.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:l,...r}=e,n=b(E,a);return(0,t.jsx)(j.z,{present:l||A(n.checked)||!0===n.checked,children:(0,t.jsx)(p.WV.span,{"data-state":L(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});S.displayName=E;var I="CheckboxBubbleInput",O=n.forwardRef((e,s)=>{let{__scopeCheckbox:a,...l}=e,{control:r,hasConsumerStoppedPropagationRef:i,checked:d,defaultChecked:o,required:m,disabled:u,name:j,value:f,form:N,bubbleInput:v,setBubbleInput:g}=b(I,a),y=(0,c.e)(s,g),w=(0,h.D)(d),k=(0,x.t)(r);n.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,s=!i.current;if(w!==d&&e){let a=new Event("click",{bubbles:s});v.indeterminate=A(d),e.call(v,!A(d)&&d),v.dispatchEvent(a)}},[v,w,d,i]);let C=n.useRef(!A(d)&&d);return(0,t.jsx)(p.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=o?o:C.current,required:m,disabled:u,name:j,value:f,form:N,...l,tabIndex:-1,ref:y,style:{...l.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function A(e){return"indeterminate"===e}function L(e){return A(e)?"indeterminate":e?"checked":"unchecked"}O.displayName=I;var P=a(4357),R=a(5297);let T=n.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(C,{ref:s,className:(0,R.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(S,{className:(0,R.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(P.Z,{className:"h-4 w-4"})})})});T.displayName=C.displayName;var _=a(4617),M=a(8462),D=a(2955),F=a(8418),V=a(5121),Q=a(2617);let z=["SEM POSI\xc7\xc3O","GOL","FIXO","MEIO","ALA DIREITA","ALA ESQUERDA","FRENTE"];function B(){return(0,t.jsxs)("section",{id:"jogadores",className:"space-y-6",children:[(0,t.jsx)("header",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Cadastro de Jogadores"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"Adicione, edite e gerencie os jogadores."})]})}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsx)(Z,{})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(q,{})})]})]})}function Z(){let{dispatch:e}=(0,Q.q)(),[s,a]=(0,n.useState)(0),[l,r]=(0,n.useState)(""),[i,c]=(0,n.useState)("SEM POSI\xc7\xc3O"),[o,m]=(0,n.useState)(!1);return(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault(),l.trim()&&(e({type:"ADD_PLAYER",payload:{jerseyNumber:Number(s)||0,name:l.trim(),position:i,paid:o}}),a(0),r(""),c("SEM POSI\xc7\xc3O"),m(!1))},className:"space-y-4 rounded-lg border bg-card p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"N\xfamero da camisa"}),(0,t.jsx)(M.I,{type:"number",min:0,value:s,onChange:e=>{let s=parseInt(e.target.value||"0",10);a(Number.isFinite(s)?s:0)}})]}),(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Nome"}),(0,t.jsx)(M.I,{value:l,onChange:e=>r(e.target.value),placeholder:"Ex.: Jo\xe3o Silva"})]}),(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Posi\xe7\xe3o"}),(0,t.jsxs)(D.Ph,{value:i,onValueChange:e=>c(e),children:[(0,t.jsx)(D.i4,{className:"w-full",children:(0,t.jsx)(D.ki,{placeholder:"Selecione"})}),(0,t.jsx)(D.Bw,{children:z.map(e=>(0,t.jsx)(D.Ql,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(T,{id:"paid",checked:o,onCheckedChange:e=>m(!!e)}),(0,t.jsx)("label",{htmlFor:"paid",className:"text-sm",children:"Pago"})]}),(0,t.jsx)(d.z,{type:"submit",className:"w-full",children:"Adicionar"})]})}function q(){var e;let{state:s,dispatch:a}=(0,Q.q)(),l=s.loading,[r,d]=(0,n.useState)(""),[c,o]=(0,n.useState)("ALL"),[m,u]=(0,n.useState)("ALL"),h=(0,n.useMemo)(()=>{var e;let a=r.trim().toLowerCase(),t=s.activeCategoryId||(null===(e=s.categories[0])||void 0===e?void 0:e.id)||"",l=s.players.filter(e=>e.categoryId===t),n=a?l.filter(e=>e.name.toLowerCase().includes(a)||String(e.jerseyNumber).includes(a)||e.position.toLowerCase().includes(a)):l,i="ALL"===c?n:n.filter(e=>e.position===c),d=e=>{for(let[a,t]of Object.entries(s.assignments))if(t.includes(e))return a;return""};return("ALL"===m?i:"NONE"===m?i.filter(e=>""===d(e.id)):i.filter(e=>d(e.id)===m)).slice().sort((e,s)=>e.jerseyNumber-s.jerseyNumber)},[s.players,s.assignments,r,c,m,s.activeCategoryId,null===(e=s.categories[0])||void 0===e?void 0:e.id]);return(0,t.jsxs)("div",{className:"rounded-lg border bg-card p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3",children:[l?(0,t.jsx)(F.O,{className:"h-10 w-full sm:w-64"}):(0,t.jsx)(M.I,{value:r,onChange:e=>d(e.target.value),placeholder:"Buscar por nome, n\xfamero ou posi\xe7\xe3o",className:"w-full sm:w-64"}),l?(0,t.jsx)(F.O,{className:"h-10 w-full sm:w-48"}):(0,t.jsxs)(D.Ph,{value:c,onValueChange:e=>o(e),children:[(0,t.jsx)(D.i4,{className:"w-full sm:w-48",children:(0,t.jsx)(D.ki,{placeholder:"Todas as posi\xe7\xf5es"})}),(0,t.jsxs)(D.Bw,{children:[(0,t.jsx)(D.Ql,{value:"ALL",children:"Todas as posi\xe7\xf5es"}),z.map(e=>(0,t.jsx)(D.Ql,{value:e,children:e},e))]})]}),l?(0,t.jsx)(F.O,{className:"h-10 w-full sm:w-48"}):(0,t.jsxs)(D.Ph,{value:m,onValueChange:e=>u(e),children:[(0,t.jsx)(D.i4,{className:"w-full sm:w-48",children:(0,t.jsx)(D.ki,{placeholder:"Todos os times"})}),(0,t.jsxs)(D.Bw,{children:[(0,t.jsx)(D.Ql,{value:"ALL",children:"Todos os times"}),(0,t.jsx)(D.Ql,{value:"NONE",children:"Sem time"}),s.teams.filter(e=>{var a;return(s.activeCategoryId||(null===(a=s.categories[0])||void 0===a?void 0:a.id)||"")===e.categoryId}).map(e=>(0,t.jsx)(D.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)(i.C,{variant:"outline",children:["Total:"," ",s.loading?"--":s.players.filter(e=>{var a;return e.categoryId===(s.activeCategoryId||(null===(a=s.categories[0])||void 0===a?void 0:a.id)||"")}).length]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(V.iA,{children:[(0,t.jsx)(V.xD,{children:(0,t.jsxs)(V.SC,{children:[(0,t.jsx)(V.ss,{children:"#"}),(0,t.jsx)(V.ss,{children:"Nome"}),(0,t.jsx)(V.ss,{className:"hidden sm:table-cell",children:"Posi\xe7\xe3o"}),(0,t.jsx)(V.ss,{className:"hidden sm:table-cell",children:"Pago"}),(0,t.jsx)(V.ss,{className:"hidden sm:table-cell",children:"Time"}),(0,t.jsx)(V.ss,{className:"w-20 text-right sm:w-24",children:"A\xe7\xf5es"})]})}),(0,t.jsx)(V.RM,{children:s.loading?Array.from({length:8}).map((e,s)=>(0,t.jsxs)(V.SC,{children:[(0,t.jsx)(V.pj,{children:(0,t.jsx)(F.O,{className:"h-8 w-16"})}),(0,t.jsx)(V.pj,{children:(0,t.jsx)(F.O,{className:"h-5 w-40"})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(0,t.jsx)(F.O,{className:"h-5 w-24"})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(0,t.jsx)(F.O,{className:"h-5 w-16"})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(0,t.jsx)(F.O,{className:"h-5 w-24"})}),(0,t.jsx)(V.pj,{className:"text-right",children:(0,t.jsx)(F.O,{className:"h-8 w-20 ml-auto"})})]},"sk-".concat(s))):(0,t.jsxs)(t.Fragment,{children:[h.map(e=>(0,t.jsx)(Y,{player:e,onDelete:()=>a({type:"DELETE_PLAYER",payload:{id:e.id}})},e.id)),0===h.length&&(0,t.jsx)(V.SC,{children:(0,t.jsx)(V.pj,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"Nenhum jogador"})})]})})]})})]})}function Y(e){let{player:s,onDelete:a}=e,{state:c,dispatch:o}=(0,Q.q)(),[m,u]=(0,n.useState)(!1),[h,x]=(0,n.useState)(s),[j,p]=(0,n.useState)(s.jerseyNumber),f=(0,n.useMemo)(()=>{for(let[e,a]of Object.entries(c.assignments))if(a.includes(s.id))return e;return""},[c.assignments,s.id]),[N,v]=(0,n.useState)(f);(0,n.useEffect)(()=>{p(s.jerseyNumber),x(s)},[s]),(0,n.useEffect)(()=>{v(f)},[f]);let g=e=>{e!==s.paid&&o({type:"UPDATE_PLAYER",payload:{...s,paid:e}})};return(0,t.jsxs)(V.SC,{children:[(0,t.jsx)(V.pj,{className:"font-medium",children:(0,t.jsx)(M.I,{type:"number",min:0,value:j,onChange:e=>{let s=parseInt(e.target.value||"0",10);p(Number.isFinite(s)?s:0)},onBlur:()=>{let e=Number.isFinite(j)?j:0;e!==s.jerseyNumber&&o({type:"UPDATE_PLAYER",payload:{...s,jerseyNumber:Math.max(0,e)}})},className:"h-8 w-16 text-center sm:w-20"})}),(0,t.jsx)(V.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"truncate",children:s.name}),(0,t.jsx)("span",{className:"sm:hidden",children:(0,t.jsx)(i.C,{variant:"secondary",children:s.position})})]})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(0,t.jsx)(i.C,{variant:"secondary",children:s.position})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(T,{id:"paid-inline-".concat(s.id),checked:s.paid,onCheckedChange:e=>g(!!e)}),(0,t.jsx)("label",{htmlFor:"paid-inline-".concat(s.id),className:"text-xs",children:"Pago"})]})}),(0,t.jsx)(V.pj,{className:"hidden sm:table-cell",children:(()=>{var e,a;let l=(null===(e=Object.entries(c.assignments).find(e=>{let[,a]=e;return a.includes(s.id)}))||void 0===e?void 0:e[0])||"",r=l&&(null===(a=c.teams.find(e=>e.id===l))||void 0===a?void 0:a.name)||"-";return(0,t.jsx)("span",{children:r})})()}),(0,t.jsx)(V.pj,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsxs)(_.Vq,{open:m,onOpenChange:u,children:[(0,t.jsx)(_.hg,{asChild:!0,children:(0,t.jsx)(d.z,{size:"icon",variant:"ghost",className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,t.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(_.cZ,{children:[(0,t.jsx)(_.fK,{children:(0,t.jsx)(_.$N,{children:"Editar Jogador"})}),(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)("label",{className:"text-sm",children:"N\xfamero"}),(0,t.jsx)(M.I,{type:"number",value:h.jerseyNumber,onChange:e=>{let s=parseInt(e.target.value||"0",10);x({...h,jerseyNumber:Number.isFinite(s)?s:0})}}),(0,t.jsx)("label",{className:"text-sm",children:"Nome"}),(0,t.jsx)(M.I,{value:h.name,onChange:e=>x({...h,name:e.target.value})}),(0,t.jsx)("label",{className:"text-sm",children:"Posi\xe7\xe3o"}),(0,t.jsxs)(D.Ph,{value:h.position,onValueChange:e=>x({...h,position:e}),children:[(0,t.jsx)(D.i4,{children:(0,t.jsx)(D.ki,{})}),(0,t.jsx)(D.Bw,{children:z.map(e=>(0,t.jsx)(D.Ql,{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,t.jsx)(T,{id:"paid-".concat(s.id),checked:h.paid,onCheckedChange:e=>x({...h,paid:!!e})}),(0,t.jsx)("label",{htmlFor:"paid-".concat(s.id),className:"text-sm",children:"Pago"})]}),(0,t.jsx)("label",{className:"text-sm",children:"Time"}),(()=>{let e="__NONE__";return(0,t.jsxs)(D.Ph,{value:N||e,onValueChange:s=>v(s===e?"":s),children:[(0,t.jsx)(D.i4,{children:(0,t.jsx)(D.ki,{placeholder:"Sem time"})}),(0,t.jsxs)(D.Bw,{children:[(0,t.jsx)(D.Ql,{value:e,children:"Sem time"}),c.teams.filter(e=>{var s;return(c.activeCategoryId||(null===(s=c.categories[0])||void 0===s?void 0:s.id)||"")===e.categoryId}).map(e=>{var s;return(0,t.jsxs)(D.Ql,{value:e.id,children:[e.name," (",(null===(s=c.assignments[e.id])||void 0===s?void 0:s.length)||0,"/",e.capacity,")"]},e.id)})]})]})})(),(0,t.jsx)(d.z,{onClick:()=>{if(o({type:"UPDATE_PLAYER",payload:h}),N!==f){let t=Object.fromEntries(Object.entries(c.assignments).map(e=>{let[a,t]=e;return[a,t.filter(e=>e!==s.id)]}));if(N){var e,a;let l=(null===(e=c.teams.find(e=>e.id===N))||void 0===e?void 0:e.capacity)||1/0;((null===(a=t[N])||void 0===a?void 0:a.length)||0)<l&&(t[N]||(t[N]=[])).push(s.id)}o({type:"SET_ASSIGNMENTS",payload:t})}u(!1)},children:"Salvar"})]})]})]}),(0,t.jsx)(d.z,{size:"icon",variant:"ghost",onClick:a,className:"h-8 w-8 sm:h-10 sm:w-10",children:(0,t.jsx)(r.Z,{className:"h-4 w-4 text-destructive"})})]})})]})}},8418:function(e,s,a){a.d(s,{O:function(){return r}});var t=a(8947),l=a(5297);function r(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...a})}},5121:function(e,s,a){a.d(s,{RM:function(){return d},SC:function(){return c},iA:function(){return n},pj:function(){return m},ss:function(){return o},xD:function(){return i}});var t=a(8947),l=a(3081),r=a(5297);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",a),...l})})});n.displayName="Table";let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",a),...l})});i.displayName="TableHeader";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...l})});d.displayName="TableBody",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});c.displayName="TableRow";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("th",{ref:s,className:(0,r.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground text-xs sm:h-12 sm:px-4 sm:text-sm [&:has([role=checkbox])]:pr-0",a),...l})});o.displayName="TableHead";let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("td",{ref:s,className:(0,r.cn)("p-2 align-middle text-xs sm:p-4 sm:text-sm [&:has([role=checkbox])]:pr-0",a),...l})});m.displayName="TableCell",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption"},9668:function(e,s,a){a.d(s,{Z:function(){return t}});let t=(0,a(3426).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},7835:function(e,s,a){a.d(s,{Z:function(){return t}});let t=(0,a(3426).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}}]);