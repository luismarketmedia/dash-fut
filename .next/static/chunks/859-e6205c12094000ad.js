"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{7859:function(e,s,a){a.d(s,{c:function(){return p}});var l=a(8947),t=a(9668),r=a(7835),n=a(3081),d=a(3478),c=a(1917),i=a(2050),o=a(4617),m=a(8462),x=a(8418),u=a(2617),h=a(5121);function f(){let{state:e}=(0,u.q)(),s=(0,n.useMemo)(()=>{let s=new Map;for(let a of e.teams)s.set(a.id,{teamId:a.id,name:a.name,color:a.color,P:0,V:0,E:0,D:0,GF:0,GA:0,SG:0,Pts:0});let a=(s,a)=>{let l=e.assignments[s]||[],t=0;for(let e of l){let s=a.events[e];s&&(t+=s.goals)}return t};for(let l of e.matches){let e=s.get(l.leftTeamId),t=s.get(l.rightTeamId);if(!e||!t)continue;let r=a(e.teamId,l),n=a(t.teamId,l);e.P++,t.P++,e.GF+=r,e.GA+=n,t.GF+=n,t.GA+=r,r>n?(e.V++,e.Pts+=3,t.D++):r<n?(t.V++,t.Pts+=3,e.D++):(e.E++,t.E++,e.Pts+=1,t.Pts+=1)}for(let e of s.values())e.SG=e.GF-e.GA;let l=Array.from(s.values());return l.sort((e,s)=>s.Pts-e.Pts||s.SG-e.SG||s.GF-e.GF||e.name.localeCompare(s.name)),l},[e.matches,e.assignments,e.teams]);return 0===e.teams.length?null:(0,l.jsxs)(i.Zb,{className:"mt-6 overflow-hidden",children:[(0,l.jsx)("div",{className:"border-b p-4 text-lg font-semibold",children:"Classifica\xe7\xe3o"}),(0,l.jsx)("div",{className:"overflow-x-auto p-4",children:(0,l.jsxs)(h.iA,{children:[(0,l.jsx)(h.xD,{children:(0,l.jsxs)(h.SC,{children:[(0,l.jsx)(h.ss,{children:"#"}),(0,l.jsx)(h.ss,{children:"Time"}),(0,l.jsx)(h.ss,{children:"P"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"V"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"E"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"D"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"GF"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"GS"}),(0,l.jsx)(h.ss,{className:"hidden sm:table-cell",children:"SG"}),(0,l.jsx)(h.ss,{children:"Pts"})]})}),(0,l.jsx)(h.RM,{children:s.map((e,s)=>(0,l.jsxs)(h.SC,{children:[(0,l.jsx)(h.pj,{children:s+1}),(0,l.jsx)(h.pj,{children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,l.jsx)("span",{className:"inline-block h-3 w-3 rounded",style:{backgroundColor:e.color}}),e.name]})}),(0,l.jsx)(h.pj,{children:e.P}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.V}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.E}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.D}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.GF}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.GA}),(0,l.jsx)(h.pj,{className:"hidden sm:table-cell",children:e.SG}),(0,l.jsx)(h.pj,{className:"font-semibold",children:e.Pts})]},e.teamId))})]})})]})}function j(e){let{color:s}=e;return(0,l.jsx)("span",{className:"inline-block h-4 w-4 rounded",style:{backgroundColor:s}})}function p(){return(0,l.jsxs)("section",{id:"times",className:"space-y-6",children:[(0,l.jsx)("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold",children:"Cadastro de Times"}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"Crie times, defina cor e capacidade."})]})}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,l.jsx)("div",{className:"md:col-span-1",children:(0,l.jsx)(N,{})}),(0,l.jsx)("div",{className:"md:col-span-2",children:(0,l.jsx)(g,{})})]}),(0,l.jsx)(f,{})]})}function N(){let{dispatch:e}=(0,u.q)(),[s,a]=(0,n.useState)(""),[t,r]=(0,n.useState)("#22c55e"),[d,i]=(0,n.useState)(8);return(0,l.jsxs)("form",{onSubmit:l=>{l.preventDefault(),s.trim()&&(e({type:"ADD_TEAM",payload:{name:s.trim(),color:t,capacity:d}}),a(""),r("#22c55e"),i(8))},className:"space-y-4 rounded-lg border bg-card p-4 shadow-sm",children:[(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Nome do time"}),(0,l.jsx)(m.I,{value:s,onChange:e=>a(e.target.value),placeholder:"Ex.: Panteras"})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Cor do time"}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(m.I,{type:"color",value:t,onChange:e=>r(e.target.value),className:"h-10 w-16 p-1"}),(0,l.jsx)(j,{color:t}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]})]}),(0,l.jsxs)("div",{className:"grid gap-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Quantidade de jogadores"}),(0,l.jsx)(m.I,{type:"number",min:1,value:d,onChange:e=>i(parseInt(e.target.value||"1",10))})]}),(0,l.jsx)(c.z,{type:"submit",className:"w-full",children:"Criar time"})]})}function g(){var e;let{state:s,dispatch:a}=(0,u.q)(),{assignments:t}=s,r=s.activeCategoryId||(null===(e=s.categories[0])||void 0===e?void 0:e.id)||"",n=s.teams.filter(e=>e.categoryId===r);return s.loading?(0,l.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,s)=>(0,l.jsxs)("div",{className:"overflow-hidden rounded-md border bg-card p-4 shadow-sm",children:[(0,l.jsx)(x.O,{className:"h-2 w-full"}),(0,l.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,l.jsx)(x.O,{className:"h-6 w-40"}),(0,l.jsx)(x.O,{className:"h-6 w-16"})]}),(0,l.jsx)(x.O,{className:"mt-2 h-4 w-32"})]},"sk-team-".concat(s)))}):0===n.length?(0,l.jsx)("div",{className:"rounded-lg border bg-card p-6 text-center text-muted-foreground",children:"Nenhum time criado"}):(0,l.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:n.map(e=>{var s;return(0,l.jsx)(b,{team:e,assignedCount:(null===(s=t[e.id])||void 0===s?void 0:s.length)||0,onDelete:()=>a({type:"DELETE_TEAM",payload:{id:e.id}})},e.id)})})}function b(e){let{team:s,assignedCount:a,onDelete:x}=e,{dispatch:h}=(0,u.q)(),[f,j]=(0,n.useState)(!1),[p,N]=(0,n.useState)(s);return(0,l.jsxs)(i.Zb,{className:"overflow-hidden border-0 shadow-sm",style:{boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[(0,l.jsx)("div",{className:"h-2 w-full",style:{backgroundColor:s.color}}),(0,l.jsxs)(i.Ol,{children:[(0,l.jsxs)(i.ll,{className:"flex items-center justify-between gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full border text-xs font-semibold",style:{backgroundColor:"".concat(s.color,"22"),color:s.color},children:s.name.slice(0,1).toUpperCase()}),s.name]}),(0,l.jsxs)(d.C,{variant:"secondary",children:[a,"/",s.capacity]})]}),(0,l.jsxs)(i.SZ,{children:["Capacidade definida: ",s.capacity," jogadores"]})]}),(0,l.jsxs)(i.aY,{className:"flex items-center justify-end gap-2 pt-0",children:[(0,l.jsxs)(o.Vq,{open:f,onOpenChange:j,children:[(0,l.jsx)(o.hg,{asChild:!0,children:(0,l.jsx)(c.z,{size:"icon",variant:"ghost",children:(0,l.jsx)(t.Z,{className:"h-4 w-4"})})}),(0,l.jsxs)(o.cZ,{children:[(0,l.jsx)(o.fK,{children:(0,l.jsx)(o.$N,{children:"Editar Time"})}),(0,l.jsxs)("div",{className:"grid gap-3",children:[(0,l.jsx)("label",{className:"text-sm",children:"Nome"}),(0,l.jsx)(m.I,{value:p.name,onChange:e=>N({...p,name:e.target.value})}),(0,l.jsx)("label",{className:"text-sm",children:"Cor"}),(0,l.jsx)(m.I,{type:"color",value:p.color,onChange:e=>N({...p,color:e.target.value}),className:"h-10 w-20 p-1"}),(0,l.jsx)("label",{className:"text-sm",children:"Quantidade"}),(0,l.jsx)(m.I,{type:"number",min:1,value:p.capacity,onChange:e=>N({...p,capacity:parseInt(e.target.value||"1",10)})}),(0,l.jsx)(c.z,{onClick:()=>{h({type:"UPDATE_TEAM",payload:p}),j(!1)},children:"Salvar"})]})]})]}),(0,l.jsx)(c.z,{size:"icon",variant:"ghost",onClick:x,children:(0,l.jsx)(r.Z,{className:"h-4 w-4 text-destructive"})})]})]})}},2050:function(e,s,a){a.d(s,{Ol:function(){return d},SZ:function(){return i},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var l=a(8947),t=a(3081),r=a(5297);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});n.displayName="Card";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...t})});d.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});c.displayName="CardTitle";let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...t})});i.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter"},8418:function(e,s,a){a.d(s,{O:function(){return r}});var l=a(8947),t=a(5297);function r(e){let{className:s,...a}=e;return(0,l.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",s),...a})}},5121:function(e,s,a){a.d(s,{RM:function(){return c},SC:function(){return i},iA:function(){return n},pj:function(){return m},ss:function(){return o},xD:function(){return d}});var l=a(8947),t=a(3081),r=a(5297);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:s,className:(0,r.cn)("w-full caption-bottom text-sm",a),...t})})});n.displayName="Table";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("thead",{ref:s,className:(0,r.cn)("[&_tr]:border-b",a),...t})});d.displayName="TableHeader";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tbody",{ref:s,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...t})});c.displayName="TableBody",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tfoot",{ref:s,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t})}).displayName="TableFooter";let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("tr",{ref:s,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t})});i.displayName="TableRow";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("th",{ref:s,className:(0,r.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground text-xs sm:h-12 sm:px-4 sm:text-sm [&:has([role=checkbox])]:pr-0",a),...t})});o.displayName="TableHead";let m=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("td",{ref:s,className:(0,r.cn)("p-2 align-middle text-xs sm:p-4 sm:text-sm [&:has([role=checkbox])]:pr-0",a),...t})});m.displayName="TableCell",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("caption",{ref:s,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...t})}).displayName="TableCaption"},9668:function(e,s,a){a.d(s,{Z:function(){return l}});let l=(0,a(3426).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},7835:function(e,s,a){a.d(s,{Z:function(){return l}});let l=(0,a(3426).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}}]);